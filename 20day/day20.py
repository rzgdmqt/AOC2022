# part1
(lambda tmp = [0], find = lambda inp, index: [i for i, (num, j) in enumerate(inp) if index == j][0], inp =[(int(num), i) for i, num in enumerate(open("d").read().strip().split("\n"))],: any( tmp.append(find(inp, i)) or inp.insert((tmp[-1] + inp[tmp[-1]][0]) % (len(inp) - 1), inp.pop(tmp[-1])) for i in range(len(inp)) ) or ([z:=i for i, (v, j) in enumerate(inp) if v == 0] and False) or print(inp[(z + 1000) % len(inp)][0] + inp[(z + 2000) % len(inp)][0] + inp[(z + 3000) % len(inp)][0]))()
# part 2
(lambda tmp = [0], find = lambda inp, index: [i for i, (num, j) in enumerate(inp) if index == j][0], inp =[(int(num) * 811589153, i) for i, num in enumerate(open("d").read().strip().split("\n"))],: any( any( tmp.append(find(inp, i)) or inp.insert((tmp[-1] + inp[tmp[-1]][0]) % (len(inp) - 1), inp.pop(tmp[-1])) for i in range(len(inp)) ) for _ in range(10) ) or ([z:=i for i, (v, j) in enumerate(inp) if v == 0] and False) or print(inp[(z + 1000) % len(inp)][0] + inp[(z + 2000) % len(inp)][0] + inp[(z + 3000) % len(inp)][0]))()
